# PostgreSQL Modern Container Environment Configuration
# Copy this file to .env and customize as needed

# =============================================================================
# Basic PostgreSQL Configuration
# =============================================================================
POSTGRES_DB=myapp
POSTGRES_USER=postgres
POSTGRES_PASSWORD=changeme_in_production

# Port configuration
POSTGRES_PORT=5432
COORDINATOR_PORT=5432
WORKER1_PORT=5433
WORKER2_PORT=5434
PGBOUNCER_PORT=6432

# =============================================================================
# Extension Configuration
# =============================================================================

# Extension Profile (choose one):
# - supabase: Web applications with real-time features and AI
# - paradedb: Analytics and search workloads
# - analytics: Data warehousing and business intelligence  
# - ai-ml: Machine learning and data science
# - (empty): Custom extension selection via POSTGRES_EXTENSIONS
POSTGRES_EXTENSION_PROFILE=supabase

# Custom extensions (comma-separated, used when POSTGRES_EXTENSION_PROFILE is empty)
# Available extensions: citus,vector,postgis,pg_cron,pg_stat_statements,pg_net,pgjwt,pgcrypto,uuid-ossp,pg_trgm,btree_gin,btree_gist
POSTGRES_EXTENSIONS=

# Deployment mode: single, coordinator, worker
POSTGRES_MODE=single

# Coordinator host (for worker nodes)
POSTGRES_COORDINATOR_HOST=postgres-coordinator

# =============================================================================
# pgAdmin Configuration (optional)
# =============================================================================
PGADMIN_EMAIL=admin@example.com
PGLADMIN_PASSWORD=admin
PGADMIN_PORT=8080

# =============================================================================
# Development vs Production Settings
# =============================================================================

# Configuration profile (affects postgresql.conf selection)
# dev: Development-friendly settings with verbose logging
# prod: Production-optimized settings
CONFIG_PROFILE=dev

# =============================================================================
# Example Configurations for Different Use Cases
# =============================================================================

# Example 1: Local Development with AI/ML features
# POSTGRES_EXTENSION_PROFILE=ai-ml
# POSTGRES_MODE=single
# CONFIG_PROFILE=dev

# Example 2: Production web app (Supabase-like)
# POSTGRES_EXTENSION_PROFILE=supabase  
# POSTGRES_MODE=single
# CONFIG_PROFILE=prod

# Example 3: Distributed analytics cluster
# POSTGRES_EXTENSION_PROFILE=analytics
# POSTGRES_MODE=coordinator  # for coordinator node
# CONFIG_PROFILE=prod

# Example 4: Custom extension selection
# POSTGRES_EXTENSION_PROFILE=
# POSTGRES_EXTENSIONS=citus,vector,postgis,pg_cron
# POSTGRES_MODE=single

# =============================================================================
# Security Notes
# =============================================================================

# IMPORTANT: Change POSTGRES_PASSWORD for production deployments
# Consider using Docker secrets or external secret management
# Review pg_hba.conf for network access restrictions
