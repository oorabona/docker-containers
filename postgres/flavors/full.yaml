# Full PostgreSQL flavor
# All available compiled extensions
# Use case: Development, testing, exploration
#
# WARNING: This image includes AGPL-licensed extensions (Citus, ParadeDB)
# Modifications to these extensions must be shared under AGPL

name: full
description: "PostgreSQL with all compiled extensions (dev/test)"
extends: base

# All compiled extensions
extensions:
  - pgvector      # Vector similarity search
  - pg_partman    # Partition management
  - hypopg        # Hypothetical indexes
  - pg_qualstats  # Predicate statistics
  - paradedb      # Full-text search (BM25)
  - citus         # Distributed PostgreSQL
  - timescaledb   # Time-series database
  # Future additions:
  # - postgis     # Once GEOS/PROJ deps are handled

# Additional built-in extensions
builtin_extensions:
  - pg_buffercache
  - pg_prewarm
  - file_fdw
  - postgres_fdw
  - adminpack

# shared_preload_libraries
shared_preload_libraries:
  - pg_qualstats
  - citus
  - timescaledb

# Image tags to publish
tags:
  - "{version}-full-alpine"   # e.g., 17.5-full-alpine
  - "{major}-full-alpine"     # e.g., 17-full-alpine
