# Archived Tasks — 2026-02

## Archived on 2026-02-01 (from /finalize: REBUILD-001)

- [x] ✅ Add container size optimization - docs + ./make sizes command (2026-01-16)
- [x] ✅ Consolidate duplicate shell functions - helpers/retry.sh + logging.sh reuse (2026-01-16)
- [x] ✅ E2E container tests - refactored with ./make build + test.sh scripts (2026-01-16)
- [x] ✅ Registry cleanup automation - GHCR monthly cleanup workflow (2026-01-16)
- [x] ✅ Build notifications - GitHub default email notifications on failures (2026-01-16)
- [x] ✅ Improve test coverage for build scripts - 63 unit tests via bats-core (2026-01-16)
- [x] ✅ Document container configuration options - CONTAINER_CONFIG.md created (2026-01-16)
- [x] ✅ Improve CI build caching - registry cache via GHCR buildcache tag (2026-01-16)
- [x] ✅ Add container health checks - added HEALTHCHECK to sslh, verified 9/9 containers (2026-01-16)
- [x] ✅ Auto-PR for upstream updates - already implemented in upstream-monitor.yaml (2026-01-16)
- [x] ✅ Review and stabilize upstream-monitor workflow - fix checkout@v6 bug, fix jq interpolation (2026-01-16)
- [x] ✅ Fix multi-arch manifest creation - explicit BUILD_PLATFORM export in composite action (2026-01-16)
- [x] ✅ Resilient multi-registry push (GHCR primary, Docker Hub secondary) (2026-01-16)
- [x] ✅ Security scanning with Trivy - CVE scanning, blocks on CRITICAL, SARIF reports (2026-01-16)
- [x] ✅ Project initialized with /project-init (2026-01-16)
- [x] ✅ Remove deprecated buildx install option (2026-01-16)
- [x] ✅ gh-pages: Responsive design + WCAG 2.2 compliance (2026-01-29)
- [x] ✅ terraform: Implement flavors (base, aws, azure, gcp, full) - 84% size reduction for base (2026-01-29)
- [x] ✅ CI: Refactor composite action to use ./make build — fixes openresty CI failure, eliminates build logic divergence (2026-01-30)
- [x] ✅ CI: Add shellcheck validation to CI pipeline — .github/workflows/shellcheck.yaml (2026-01-30)
- [x] ✅ CI: Standardize all containers with build scripts — audit confirmed already done (2026-01-30)
- [x] ✅ CI: Pin base image SHA digests — resolve FROM variables via config.json/build args (2026-01-30)
- [x] ✅ CI: Evaluate skopeo copy — implemented in push-container.sh (2026-01-30)
- [x] ✅ CI: Lineage JSON output — .build-lineage/<container>.json emitted per build (2026-01-30)
- [x] ✅ CI: Dashboard integration for build lineage (2026-01-30)
- [x] ✅ gh-pages: Add aria-live regions for dynamic feedback (2026-01-30)
- [x] ✅ gh-pages: Refactor inline onclick to addEventListener (2026-01-30)
- [x] ✅ gh-pages: Wrap JS in IIFE/module pattern (2026-01-30)
- [x] ✅ Config harmonization — unified config.yaml for all 10 containers (2026-01-31)
- [x] ✅ gh-pages: Increase mobile touch targets to 44px (2026-01-30)
- [x] ✅ AUD-P0: Fix 3 P0 audit items (2026-01-31)
- [x] ✅ AUD-006: Extract shared registry API utility (2026-01-31)
- [x] ✅ AUD-007: Extract inline JS/CSS from layouts (2026-01-31)
- [x] ✅ AUD-009: Split generate_data() (2026-01-31)
- [x] ✅ AUD-011: Add test.sh for 6 containers (2026-01-31)
- [x] ✅ AUD-014: Fix schedule documentation (2026-01-31)
- [x] ✅ AUD-013: DRY docker/login-action (2026-01-31)
- [x] ✅ AUD-017: Extract shared CSS theme (2026-01-31)
- [x] ✅ AUD-018: Extract version detection helper (2026-01-31)
- [x] ✅ AUD-010: Split build_container() (2026-01-31)
- [x] ✅ AUD-015: Rewrite WORKFLOW_ARCHITECTURE.md (2026-01-31)
- [x] ✅ AUD-022: Create ADRs (2026-01-31)
- [x] ✅ DASH-001: Per-variant build_args for non-versioned variants (2026-01-31)
- [x] ✅ DASH-002: Per-variant build_digest "unknown" (2026-01-31)
- [x] ✅ DASH-003: Refactor generate-dashboard.sh YAML generation (2026-01-31)
- [x] ✅ DASH-004: Postgres PG17/PG16 lineage files (2026-01-31)
- [x] ✅ DASH-005: Version mismatch check for non-versioned variants (2026-01-31)
- [x] ✅ CI: Fix terraform build abort (2026-02-01)
- [x] ✅ REBUILD-001: Per-flavor precise build digest (2026-02-01)

## Archived on 2026-02-02 (from /finalize: PG18-VARIANTS)

- [x] ✅ [Build] REBUILD-001: Per-flavor precise build digest — edge case warnings, test validation, dashboard per-variant display (2026-02-02)
- [x] ✅ [Build/CI/Dashboard] PG18-VARIANTS: PG18 extension variants + CI resilience + dashboard warnings (2026-02-02)
  - [x] Block 1: PG 18 extension configuration (variants.yaml + extensions/config.yaml)
  - [x] Block 2: CI resilience (commit-lineage + update-dashboard partial failure)
  - [x] Block 3: Dashboard warning state for missing/failed builds
  - [x] Block 4: Integration validation (YAML syntax, shellcheck, yq checks)

## Archived on 2026-02-02 (from /finalize: EXT-BUNDLE)

- [x] ✅ [Build] EXT-BUNDLE: Refactor extension pipeline — template-based Dockerfile generation (2026-02-02)

## Archived on 2026-02-22 (from /finalize: SBOM-INTEGRATION)

- [x] ✅ [Build] PG 18 distributed/full flavors — Citus 14.0.0 released, variants added, build success (2026-02-21)
- [x] ✅ [CI] Docker Hub manifest creation fails silently — root cause: missing buildx setup, fix: cross-registry GHCR→Docker Hub sources (PR #175, 2026-02-21)
- [x] ✅ [Build] _has_build_args_include() only checks first variant (head -1) — fixed to check all variants (2026-02-22)
- [x] ✅ [Dashboard] Build history — show last N builds per variant — implemented via SBOM integration (2026-02-22)
- [x] ✅ [Dashboard] Changelog inter-versions — diff packages between builds via jq-based SBOM comparison (2026-02-22)
- [x] ✅ [CI] SBOM integration — package tracking, changelog & compliance via syft + GitHub attestation (2026-02-22)
- [x] ✅ [CI] Fix merge race condition in upstream monitor — max-parallel + retry logic (2026-02-07)
- [x] ✅ [Container] web-shell — browser-based terminal on Debian base with ttyd (2026-02-06)
- [x] ✅ [Container] vector — observability pipeline with musl binary on Alpine (2026-02-06)
- [x] ✅ [Dashboard] Fix badge lines causing YAML array parse in description extraction (2026-02-06)
- [x] ✅ [Docs] Standardize README.md across all 10 containers (2026-02-06)
- [x] ✅ [Dashboard] Dependency Health section on container detail pages (2026-02-06)
- [x] ✅ [CI] 3rd party dependency version monitoring — DEP-MONITOR (2026-02-06)
- [x] ✅ [CI] Per-container failure tracking via GitHub API in dashboard (2026-02-05)
- [x] ✅ [CI] Build failure alerts — auto-create GitHub issue on failure (2026-02-05)
- [x] ✅ [Build] EXT-BUNDLE — template-based Dockerfile generation for per-flavor extension filtering (2026-02-02)
- [x] ✅ [Build] Align built-in extensions in 00-init-extensions.sql + eliminate config.yaml mismatch (2026-02-03)
- [x] ✅ [Test] Add bats tests for dashboard helpers and variant-utils (33 tests) (2026-02-02)

## Archived on 2026-02-22 (from /finalize: AUD-BATCH-3)

- [x] ✅ AUD-024: Remove committed private key from sslh/ (2026-02-22)
- [x] ✅ AUD-025: Pin 7 unpinned actions in build-container/action.yaml (2026-02-22)
- [x] ✅ AUD-026: Add timeout-minutes to all 23 CI jobs (2026-02-22)
- [x] ✅ AUD-031: Remove vegardit/gha-setup-jq dependency (2026-02-22)
- [x] ✅ AUD-036: Remove hardcoded password from web-shell (2026-02-22)
- [x] ✅ [Dashboard] Fix version mismatch check for rolling tags — major version comparison instead of prefix match (2026-02-02)
- [x] ✅ [CI] Fix `[[ ]] &&` false failure pattern in build scripts (2026-02-05)
- [x] ✅ [CI] Add dashboard + auto-build triggers to upstream-monitor (2026-02-05)

## Archived on 2026-02-22 (from /finalize: AUD-BATCH-4)

- [x] ✅ AUD-033: Pin yq runtime download to v4.52.4 (2026-02-22)
- [x] ✅ AUD-034: Pin syft install to v1.42.1 (2026-02-22)
- [x] ✅ AUD-039: Add conditional logging.sh source to retry.sh + build-args-utils.sh (2026-02-22)
