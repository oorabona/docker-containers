<!-- Enhanced Container Status Card - Glassmorphism Style -->
<div class="container-card glass status-{{ include.status_color | default: 'secondary' }}">
  <div class="card-header-row">
    <div class="card-name">{{ include.name }}</div>
    <span class="card-badge{% if include.status_color == 'warning' %} warning{% endif %}">
      {{ include.current_version | default: 'unknown' }}
    </span>
  </div>

  <div class="card-status">
    {% if include.build_status == 'success' %}
      <i class="ti ti-circle-check" style="color: var(--accent-green);"></i>
    {% elsif include.build_status == 'failed' %}
      <i class="ti ti-circle-x" style="color: var(--accent-pink);"></i>
    {% else %}
      <i class="ti ti-loader" style="color: var(--accent-yellow);"></i>
    {% endif %}
    {{ include.status_text | default: 'Unknown' }}
  </div>

  {% if include.latest_version %}
  <div class="card-meta">
    <div class="card-meta-item">
      <span class="card-meta-label">Latest</span>
      <span class="card-meta-value">{{ include.latest_version }}</span>
    </div>
    <div class="card-meta-item">
      <span class="card-meta-label">Registry</span>
      <span class="card-meta-value">
        {% if include.build_status == 'success' %}Published{% elsif include.build_status == 'pending' %}Not Published{% elsif include.build_status == 'failed' %}Failed{% else %}Building{% endif %}
      </span>
    </div>
  </div>
  {% endif %}

  {% if include.description %}
  <div class="card-description">{{ include.description | truncate: 120 }}</div>
  {% endif %}

  <!-- Variants Section (for multi-image containers) -->
  {% if include.has_variants %}
  <div class="variants-section">
    <div class="variants-header">
      <i class="ti ti-versions"></i>
      <span>Available variants</span>
    </div>
    <div class="variant-tags">
      {% for variant in include.variants %}
        <span class="variant-tag"
              title="{{ variant.description }} â€” Click to copy"
              onclick="selectVariant('{{ include.name }}', 'ghcr.io/{{ include.github_username }}/{{ include.name }}:{{ variant.tag }}')"
              style="cursor: pointer;">
          :{{ variant.tag }}
          {% if variant.is_default %}<span class="badge badge-primary">default</span>{% endif %}
        </span>
      {% endfor %}
    </div>
  </div>
  {% endif %}

  <!-- Docker Pull Command Section -->
  {% if include.ghcr_image and include.dockerhub_image %}
  <div class="pull-section">
    <div class="pull-header">
      <i class="ti ti-brand-docker"></i>
      <span>Pull command</span>
      {% if include.has_variants %}
      <select class="pull-select" onchange="updatePullCommand('{{ include.name }}', this.value)">
        <optgroup label="GHCR">
          {% for variant in include.variants %}
          <option value="ghcr.io/{{ include.github_username }}/{{ include.name }}:{{ variant.tag }}"{% if variant.is_default %} selected{% endif %}>
            {{ variant.name }}{% if variant.is_default %} (default){% endif %}
          </option>
          {% endfor %}
        </optgroup>
        <optgroup label="Docker Hub">
          {% for variant in include.variants %}
          <option value="docker.io/{{ include.dockerhub_username }}/{{ include.name }}:{{ variant.tag }}">
            {{ variant.name }}{% if variant.is_default %} (default){% endif %}
          </option>
          {% endfor %}
        </optgroup>
      </select>
      {% else %}
      <select class="pull-select" onchange="updatePullCommand('{{ include.name }}', this.value)">
        <option value="{{ include.ghcr_image }}">GHCR</option>
        <option value="{{ include.dockerhub_image }}">Docker Hub</option>
      </select>
      {% endif %}
    </div>
    <div class="pull-input-group">
      <input type="text"
             class="pull-input"
             id="pull-{{ include.name }}"
             value="docker pull {{ include.ghcr_image }}"
             readonly>
      <button class="copy-btn" type="button"
              onclick="copyToClipboard('pull-{{ include.name }}', this)"
              title="Copy to clipboard">
        <i class="ti ti-copy"></i>
      </button>
    </div>
  </div>
  {% endif %}

  <!-- Quick Links -->
  <div class="card-links">
    <a href="https://github.com/{{ include.github_username }}/docker-containers/tree/master/{{ include.name }}"
       class="card-link" target="_blank" title="View Source">
      <i class="ti ti-folder"></i> Source
    </a>
    <a href="https://github.com/{{ include.github_username }}/docker-containers/blob/master/{{ include.name }}/README.md"
       class="card-link" target="_blank" title="Documentation">
      <i class="ti ti-file-text"></i> Docs
    </a>
    <a href="https://ghcr.io/{{ include.github_username }}/{{ include.name }}"
       class="card-link" target="_blank" title="GHCR Package">
      <i class="ti ti-package"></i> GHCR
    </a>
  </div>
</div>
